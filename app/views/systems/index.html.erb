<div class="w-full">

  <div class="flex justify-between items-center">
    <h1 class="font-bold text-4xl text-blue-500">Systems</h1>
    <%= link_to 'New system', new_system_path, class: "rounded-lg py-3 px-5 bg-blue-600 text-white block font-medium" if user_signed_in? %>
  </div>

  <div id="systems" class="mt-5">
    <div class="overflow-x-auto relative shadow-md sm:rounded-lg mt-10">
      <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400 mt-5">
        <thead class="text-xs text-white uppercase bg-blue-500 dark:bg-gray-700 dark:text-gray-400">
        <tr>
          <th scope="col" class="py-3 px-6">
            System name
          </th>
          <th scope="col" class="py-3 px-6">
            Site Count
          </th>
          <th scope="col" class="py-3 px-6">
            Pages
          </th>
          <th scope="col" class="py-3 px-6">
            Score (Avg)
          </th>
          <th scope="col" class="py-3 px-6">
            Broken Links
          </th>
          <th scope="col" class="py-3 px-6">
            Accessibility Issues
          </th>
          <th scope="col" class="py-3 px-6">
            Misspellings
          </th>
          <th scope="col" class="py-3 px-6">
            Notes
          </th>
          <% if user_signed_in? %>
            <th scope="col" class="py-3 px-6">
              Tools
            </th>
          <% end %>
        </tr>
        </thead>
        <tbody>
          <%= render @systems %>
        </tbody>
      </table>
    </div>

  </div>

  <% missing_systems = Site.missing_system %>
  <% if missing_systems.present? %>
    <div id='sites' class="mt-10">
      <h2><%= missing_systems.size %> Sites Without Systems</h2>
      <%= render partial: 'sites/sites', locals: { sites: missing_systems } %>
    </div>

  <% end %>
</div>
